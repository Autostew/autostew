{% extends "autostew_web_home/base.html" %}

{% block content %}
    <div class="page-header">
        <h1>Drivers</h1>
    </div>

    <p>All known drivers: </p>

    <table class="table" data-sortable>
        <thead>
            <tr>
                <th>Name</th>
                <th data-sortable-type="numeric">Safety class</th>
                <th data-sortable-type="numeric">Performance rating</th>
                <th data-sortable-type="numeric">Distance driven</th>
            </tr>
        </thead>
        <tbody>
            {% if steamuser_list %}
                {% for user in steamuser_list %}
                    <tr>
                        <td>
                            <a href="{{ user.get_absolute_url }}">{{ user.display_name }}</a>
                        </td>
                        <td data-value="{{ user.safety_rating|default_if_none:1000000 }}">
                            {% if user.safety_class %}
                                <span class="label label-default">{{ user.safety_class.name }}</span>
                            {% else %}
                                -
                            {% endif %}
                        </td>
                        <td>
                            {% if user.elo_rating %}
                                {{ user.elo_rating }}
                            {% else %}
                                -
                            {% endif %}
                        </td>
                        <td>
                            {{ user.get_kms }} km
                        </td>
                    </tr>
                {% endfor %}
            {% else %}
                <tr><td>No drivers found!</td></tr>
            {% endif %}
        </tbody>
    </table>
{% endblock %}
